/*
 * Environment_Tasks.c
 *
 *  Created on: 07/06/2016
 *      Author: Red
 */

#include "../Modules/KBD.h"
#include "../Modules/LCD.h"

/* Main Task*/

void mainTask(){
	int key;
	while(1){
		//Get a key
		if(key != -1){
			if(key==doubleKey){
				xTaskNotifyGive(MaintenanceModeTask);
			}
			else{
				xTaskNotifyGive(UserModeTask);
			}
			ulTaskNotifyTake(pdTRUE,portMAX_DELAY);
		}
	}
}

void UserModeTask(){

	while(1){

		//block Thread until there is a notification
		ulTaskNotifyTake(pdTRUE, portMAX_DELAY);
	}
}

void AdminModeTask(){

	while(1){

		//block Thread until there is a notification
		ulTaskNotifyTake(pdTRUE, portMAX_DELAY);
	}
}


/* Keyboard task*/

xQueueHandle KBD_queue;

void KBD_GetKey(){
	int key = 0;
	while(1){

		if(xQueueReceive(KBD_queue, &key, 100) == pdFALSE){

		}

	}
}

/* LCD task*/

xQueueHandle LCD_queue;

void LCD_Display(){

	while(1){



	}
}
